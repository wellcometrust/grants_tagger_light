schema: '2.0'
stages:
  generate:
    cmd: python scripts/create_xlinear_bertmesh_comparison_csv.py --s3-url s3://datalabs-data/dimensions/grants/grants
      --num-parquet-files-to-consider 10 --num-samples-per-cat 10 --mesh-metadata-path
      data/raw/desc2021.xml --mesh-terms-list-path data/grants_comparison/meshterms_list.txt
      --active-portfolio-path data/raw/active_grants_last_5_years.csv --bertmesh-path
      Wellcome/WellcomeBertMesh --bertmesh-thresh 0.5 --pre-annotate-bertmesh --xlinear-path
      models/xlinear-0.2.5/model --xlinear-label-binarizer-path models/xlinear-0.2.5/label_binarizer.pkl
      --xlinear-thresh 0.2 --pre-annotate-xlinear --output-path data/grants_comparison/comparison.xlsx
    deps:
    - path: scripts/create_xlinear_bertmesh_comparison_csv.py
      md5: d960c5b83b112d390b80f9db8467f8a6
      size: 8089
    outs:
    - path: data/grants_comparison/comparison.xlsx
      md5: 91983b99e7a5386f5e21d3a2ede38642
      size: 937396
